# =============================================================================
# Cloudflare Workers Configuration
# =============================================================================
# Customize these values for your project

name = "your-app-name"
compatibility_date = "2024-12-01"
compatibility_flags = ["nodejs_compat"]

# Custom Worker wrapper (checks pSEO page status before serving)
main = "worker.js"

# Static assets binding
[assets]
directory = ".open-next/assets"

# =============================================================================
# D1 Database
# =============================================================================
# Create with: npx wrangler d1 create your-db-name
# Then update database_id below

[[d1_databases]]
binding = "DB"
database_name = "your-db-name"
database_id = "YOUR_DATABASE_ID_HERE"

# =============================================================================
# Environment Variables
# =============================================================================

[vars]
ENVIRONMENT = "production"
APP_URL = "https://your-domain.com"

# =============================================================================
# Custom Domain Routes (optional)
# =============================================================================
# Uncomment and configure for your domain

# [[routes]]
# pattern = "your-domain.com/*"
# zone_name = "your-domain.com"

# [[routes]]
# pattern = "www.your-domain.com/*"
# zone_name = "your-domain.com"

# =============================================================================
# Cron Triggers (for background jobs)
# =============================================================================
# Uncomment to enable background job processing

# [triggers]
# crons = ["* * * * *"]  # Every minute

# =============================================================================
# Observability
# =============================================================================

[observability]
enabled = false
head_sampling_rate = 1

[observability.logs]
enabled = true
head_sampling_rate = 1
persist = true
invocation_logs = true

[observability.traces]
enabled = false
persist = true
head_sampling_rate = 1

# =============================================================================
# Production Environment
# =============================================================================

[env.production]
vars = { ENVIRONMENT = "production", APP_URL = "https://your-domain.com" }
